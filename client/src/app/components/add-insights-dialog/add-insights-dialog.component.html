<!-- <div class="dialog-container">
  <h2 mat-dialog-title>
    <mat-icon>add_circle</mat-icon>
    Add Insights
  </h2>

  <mat-dialog-content>
    <p class="dialog-description">Select the insights you want to generate for this clip:</p>

    <div class="insights-selection">
      
      <div *ngIf="availableInsightTypes.length === 0" class="no-insights-message">
        <mat-icon>check_circle</mat-icon>
        <p>All available insights have already been generated for this clip.</p>
      </div>

      
      <div class="insights-grid-container" *ngIf="availableInsightTypes.length > 0">
        <div class="insights-grid">
          <div
            *ngFor="let option of availableInsightTypes"
            class="insight-option"
            [class.selected]="isSelected(option.type)"
            (click)="toggleInsight(option)"
          >
            <div class="insight-header">
              <mat-checkbox
                [checked]="isSelected(option.type)"
                (click)="$event.stopPropagation()"
                (change)="toggleInsight(option)"
              >
              </mat-checkbox>
              <mat-icon class="insight-icon">{{ option.icon }}</mat-icon>
              <span class="insight-label">{{ option.label }}</span>
            </div>

            <p class="insight-description">{{ option.description }}</p>

            
            <mat-form-field
              *ngIf="option.requiresLanguage && isSelected(option.type)"
              appearance="outline"
              class="language-select"
              (click)="$event.stopPropagation()"
            >
              <mat-label>Language</mat-label>
              <mat-select
                [value]="getInsightRequest(option.type)?.language"
                (selectionChange)="updateLanguage(option.type, $event.value)"
              >
                <mat-option *ngFor="let lang of languages" [value]="lang.code">
                  {{ lang.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>

    
    <div class="selection-summary" *ngIf="hasSelectedInsights()">
      <mat-icon>info</mat-icon>
      <span>{{ selectedInsights.size }} insight(s) selected</span>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button
      mat-raised-button
      color="primary"
      (click)="onConfirm()"
      [disabled]="!hasSelectedInsights()"
    >
      Add Selected Insights
    </button>
  </mat-dialog-actions>
</div> -->
<div class="dialog-container">
  <h2 mat-dialog-title>
    <mat-icon>add_circle</mat-icon>
    Add Insights
  </h2>

  <mat-dialog-content>
    <p class="dialog-description">Select the insights you want to generate for this clip:</p>

    <div class="insights-selection">
      <div *ngIf="availableInsightTypes.length === 0" class="no-insights-message">
        <mat-icon>check_circle</mat-icon>
        <p>All available insights have already been generated for this clip.</p>
      </div>

      <div class="insights-grid-container" *ngIf="availableInsightTypes.length > 0">
        <div class="insights-grid">
          <div
            *ngFor="let option of availableInsightTypes"
            class="insight-option"
            [class.selected]="isSelected(option.type)"
            (click)="toggleInsight(option)"
          >
            <div class="insight-header">
              <mat-checkbox
                [checked]="isSelected(option.type)"
                (click)="$event.stopPropagation()"
                (change)="toggleInsight(option)"
              >
              </mat-checkbox>
              <mat-icon class="insight-icon">{{ option.icon }}</mat-icon>
              <span class="insight-label">{{ option.label }}</span>
            </div>

            <p class="insight-description">{{ option.description }}</p>

            <mat-form-field
              *ngIf="option.requiresLanguage && isSelected(option.type)"
              appearance="outline"
              class="language-select"
              (click)="$event.stopPropagation()"
            >
              <mat-label>Language</mat-label>
              <mat-select
                [value]="getInsightRequest(option.type)?.language"
                (selectionChange)="updateLanguage(option.type, $event.value)"
              >
                <mat-option *ngFor="let lang of languages" [value]="lang.code">
                  {{ lang.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
    </div>

    <div class="selection-summary" *ngIf="hasSelectedInsights()">
      <mat-icon>info</mat-icon>
      <span>{{ selectedInsights.size }} insight(s) selected</span>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button
      mat-raised-button
      color="primary"
      (click)="onConfirm()"
      [disabled]="!hasSelectedInsights()"
    >
      Add Selected Insights
    </button>
  </mat-dialog-actions>
</div>
